lmuFFB - Le Mans Ultimate Force Feedback
========================================
Version: 0.3.7

See README.md for full documentation with images and links.

PREREQUISITES
-------------
1. vJoy Driver (Version 2.1.9.1 recommended)
   Download: https://github.com/jshafer817/vJoy/releases
   
   Why vJoy? LMU needs a "dummy" device to bind steering to, so it doesn't 
   try to send its own FFB to your real wheel while lmuFFB is controlling it.
   
   Configuration:
   - Open "Configure vJoy" tool
   - Set up Device 1 with at least X Axis enabled
   - Disable all vJoy FFB Effects EXCEPT "Constant Force"
   - Click Apply

2. rF2 Shared Memory Plugin (rFactor2SharedMemoryMapPlugin64.dll)
   Download from one of these sources:
   - https://github.com/TheIronWolfModding/rF2SharedMemoryMapPlugin#download
   - Bundled with CrewChief: https://thecrewchief.org/
   
   Installation:
   - Copy rFactor2SharedMemoryMapPlugin64.dll to "Le Mans Ultimate/Plugins/" folder
   - Note: LMU does not have an in-game menu to enable plugins. It is enabled 
     automatically if the file is present.

3. vJoyInterface.dll (Required for lmuFFB to run)
   This DLL MUST be in the same folder as LMUFFB.exe
   
   Download from:
   - C:\Program Files\vJoy\SDK\lib\amd64\ (if you installed vJoy SDK)
   - https://github.com/shauleiz/vJoy/tree/master/SDK/lib/amd64/vJoyInterface.dll


STEP-BY-STEP SETUP
------------------

A. Configure Le Mans Ultimate (LMU)
   1. Start LMU
   2. Go to Settings > Graphics:
      - Set Display Mode to "Borderless" (Prevents crashes/minimizing)
   
   3. Go to Controls / Bindings
   4. Steering Axis - Choose ONE method:
      
      METHOD A (Direct - Recommended):
      - Bind to your Physical Wheel directly
      - Set In-Game FFB Strength to 0% (Crucial!)
      - Pros: No vJoy required (if LMU allows shared access)
      - Cons: If wheel has no FFB, try Method B
      
      METHOD B (vJoy Bridge - Compatibility):
      - Bind to "vJoy Device (Axis Y)"
      - IMPORTANT: You MUST use "Joystick Gremlin" to map your wheel to vJoy Axis Y.
      - Why? Guarantees separation of FFB and Input.
   
   5. Force Feedback Settings:
      - Type: Set to "None" (if available) or reduce FFB Strength to 0% / Off
      - Note: LMU may not have a "None" option; reducing strength to 0 is 
        the workaround.
      - Effects: Set "Force Feedback Effects" to Off
      - Smoothing: Set to 0 (Raw) for fastest telemetry updates
      - Advanced: Set Collision Strength and Torque Sensitivity to 0%
      - Tweaks: Disable "Use Constant Steering Force Effect"

B. Configure lmuFFB (The App)
   1. Run LMUFFB.exe
   2. FFB Device: Select your Physical Wheel (e.g., "Simucube 2 Pro", "Fanatec DD1")
      - Do NOT select the vJoy device here
   3. Master Gain: Start low (0.5) and increase gradually
   4. SOP Effect: Start at 0.0
      - This effect injects lateral G-force
      - On High-Torque wheels (DD), this can cause violent oscillation if too high
   5. Drive! You should feel force feedback generated by the app


TROUBLESHOOTING
---------------

Wheel Jerking / Fighting:
  - You likely have a "Double FFB" conflict
  - Ensure LMU Steering is bound to vJoy, NOT your real wheel
  - Ensure LMU FFB is sending to vJoy (or disabled/strength at 0)
  - If the wheel oscillates on straights, reduce SOP Effect to 0.0

No Steering (Car won't turn):
  - If using Method B (vJoy), you need Joystick Gremlin running
  - Ensure it maps your wheel to vJoy Axis Y
  - The "vJoy Demo Feeder" is for testing only, not driving

No FFB:
  - Ensure "FFB Device" in lmuFFB is your real wheel
  - Check if Shared Memory Plugin is working (console should show "Connected")
  - Verify the plugin DLL is in Le Mans Ultimate/Plugins/ folder

"vJoyInterface.dll not found":
  - Copy vJoyInterface.dll to the same folder as LMUFFB.exe
  - Get it from: C:\Program Files\vJoy\SDK\lib\amd64\
  - Or download: https://github.com/shauleiz/vJoy/tree/master/SDK/lib/amd64/vJoyInterface.dll

"Could not open file mapping object":
  - Start LMU and load a track first
  - The Shared Memory Plugin only activates when driving


KNOWN ISSUES (v0.3.7)
---------------------
- Telemetry Gaps: Some users report missing telemetry for Dashboard apps 
  (ERS, Temps). lmuFFB has robust fallbacks, but if Tire Temperature data 
  is broken, the Understeer effect may be static.


For full documentation, advanced settings, and developer information, 
see README.md or visit: https://github.com/coasting-nc/LMUFFB
