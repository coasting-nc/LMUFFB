You will have to work on the files downloaded from this repo https://github.com/coasting-nc/LMUFFB and start working on the tasks described below. Therefore, if you haven't done it already, clone this repo https://github.com/coasting-nc/LMUFFB and start working on the tasks described below.

Please initialize this session by following the **Standard Task Workflow** defined in `AGENTS.md`.

1.  **Sync**: Run `git fetch && git reset --hard origin/main` for the LMUFFB repository to ensure you see the latest files.
2.  **Load Memory**: Read `AGENTS_MEMORY.md` from the root dir of the LMUFFB repository to review build workarounds and architectural insights. 
3.  **Load Rules**: Read `AGENTS.md` from the root dir of the LMUFFB repository to confirm instructions. 

Once you have reviewed these documents, please proceed with the following task:

**Task: Verify, Fix, and Regression Test Inverted Force Directions (Scrub Drag & Yaw Kick)**

**Reference Documents:**
*   `docs/bug_reports/wheel_pulls right bug report.md` (Contains the user report and proposed analysis).
*   `docs/dev_docs/coordinate_system_reference.md` (Source of truth for rFactor 2 vs DirectInput coordinate systems).
*   `FFBEngine.h` (Current implementation).

**Context:**
A user reported that the wheel "pulls in the direction I am turning" (Positive Feedback loop), specifically during right turns. This suggests that one or more FFB components are inverted, amplifying the slide instead of resisting it.

**Implementation Requirements:**

1.  **Verification & Review (CRITICAL STEP)**:
    *   **Analyze Code**: Examine `FFBEngine.h` (specifically the `Scrub Drag` and `Yaw Kick` calculations).
    *   **Verify Issue**: Confirm if the current logic produces a **Positive** force (Right) when the input (Lateral Velocity or Yaw Acceleration) is **Positive** (Left/Right Rotation). According to `coordinate_system_reference.md`, DirectInput requires a **Negative** force to pull Left (Counter-Steer/Resist).
    *   **Review Fixes**: Evaluate the fixes proposed in the bug report. Determine if simply inverting the sign is the correct physics solution to achieve Negative Feedback (Stability).
    *   *Decision*: If the issue is confirmed, proceed to apply the fixes. If the code looks correct, investigate other causes.

2.  **Fix Physics Logic (`FFBEngine.h`)**:
    *   **Scrub Drag**: Ensure the calculated force **opposes** the slide velocity. If sliding Left (+Vel), the force must be Negative (Left Torque) to align the wheel.
    *   **Yaw Kick**: Ensure the calculated force provides a **counter-steering** cue. If rotating Right (+Yaw Accel), the rear kicks Left, so the wheel should pull Left (-Force).

3.  **Update & Fix Tests (`tests/test_ffb_engine.cpp`)**:
    *   **Update Expectations**: Modify `test_coordinate_scrub_drag_direction` to assert that the force is **Negative** (Counter-Steer/Resistance) when Lateral Velocity is **Positive**.
    *   **Add New Test**: Implement `test_sop_yaw_kick_direction()` to verify that Positive Yaw Acceleration results in **Negative** FFB output.
    *   **Critical Check**: Verify that `main()` in `test_ffb_engine.cpp` actually calls these test functions. Previously, some tests were defined but never executed. **Ensure ALL defined test functions are explicitly called in `main()`.**

4.  **Documentation Updates**:
    *   **Code Comments**: Add explicit comments in `FFBEngine.h` explaining *why* the sign is negative (e.g., "// Invert to provide counter-steering torque").
    *   **Formulas**: Update `docs/dev_docs/FFB_formulas.md` to reflect the corrected signs/formulas.
    *   **Changelog**: Update `CHANGELOG.md` with a clear entry about fixing the "Positive Feedback Loop" in Scrub Drag and Yaw Kick.
    *   **Version**: Increment `VERSION` to `0.4.20`.

**Deliverables:**
1.  Corrected `FFBEngine.h` (with explanatory comments).
2.  Updated `tests/test_ffb_engine.cpp` (with new tests enabled in main).
3.  Updated `CHANGELOG.md`, `VERSION`, and `docs/dev_docs/FFB_formulas.md`.
4.  **Verification**: Compile and run the tests (`./run_tests`). **Do not submit unless all tests pass.** Provide the output of the test run to confirm success.