# Investigation Report: Unwanted Changes in v0.7.32 Refactoring

## Overview
This report analyzes the changes introduced in version 0.7.32 (commit `da842636d60666bc18cda47d7e17e5fdfdf78c69`) compared to version 0.7.31 (commit `1e9350740c15acd874077eeb66d6a0487091988c`) to identify any modifications that were not strictly necessary for the stated goal of "Linux port and platform abstraction".

## Findings

### 1. File Deletions
- **`CHANGELOG_DEV_utf8.md`**: This file was deleted in commit `35652f9`. While likely a redundant copy of `CHANGELOG_DEV.md`, its deletion was a "chore" unrelated to the Linux port.

### 2. AI Agent Configuration Changes
- **`gemini_orchestrator/jules_20_system_prompt.md`**: Updated significantly.
- **`gemini_orchestrator/jules_available_tools.md`**: Updated significantly.
These files are internal to the development environment and do not affect the application's functionality or cross-platform compatibility.

### 3. Test Configuration Modifications
- **`test_config_runner.ini`**: The `ini_version` was bumped to `0.7.31`. This is generally unnecessary for refactoring unless the config format itself changed (which it didn't in this range).

### 4. Excessive Mocking
- **`src/lmu_sm_interface/LinuxMock.h`**: While some mocks were necessary for the FFB engine to compile and run on Linux, this file was expanded to include a functional simulation of Windows memory-mapped files and Interlocked intrinsics. While useful for testing, it significantly increased the complexity of the mock layer.

### 5. main.cpp Redundancies
- Although the 100ms sleep was already present, the refactoring in v0.7.32 missed an opportunity to remove it while abstracting the GUI. Instead, the `bool active` return value from `GuiLayer::Render` was preserved across the platform abstraction, carrying over the problematic background throttling to the new architecture.

## Conclusion
The v0.7.32 refactoring was mostly focused and clean. However, the inclusion of internal AI configuration updates and the deletion of redundant changelog files should have been handled in separate "chore" commits rather than being mixed with the platform abstraction logic.

The most significant "unwanted" aspect was the preservation and formalization of the focus-based throttling logic in the new `IGuiPlatform` architecture, which directly contributed to the FFB degradation reported in Issue #100.
